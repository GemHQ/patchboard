var require=function(e,t){var n=require.resolve(e,t||"/"),r=require.modules[n];if(!r)throw new Error("Failed to resolve module "+e+", tried "+n);var i=require.cache[n],s=i?i.exports:r();return s};require.paths=[],require.modules={},require.cache={},require.extensions=[".js",".coffee"],require._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},require.resolve=function(){return function(e,t){function o(e){e=n.normalize(e);if(require.modules[e])return e;for(var t=0;t<require.extensions.length;t++){var r=require.extensions[t];if(require.modules[e+r])return e+r}}function u(e){e=e.replace(/\/+$/,"");var t=n.normalize(e+"/package.json");if(require.modules[t]){var r=require.modules[t](),i=r.browserify;if(typeof i=="object"&&i.main){var s=o(n.resolve(e,i.main));if(s)return s}else if(typeof i=="string"){var s=o(n.resolve(e,i));if(s)return s}else if(r.main){var s=o(n.resolve(e,r.main));if(s)return s}}return o(e+"/index")}function a(e,t){var n=f(t);for(var r=0;r<n.length;r++){var i=n[r],s=o(i+"/"+e);if(s)return s;var a=u(i+"/"+e);if(a)return a}var s=o(e);if(s)return s}function f(e){var t;e==="/"?t=[""]:t=n.normalize(e).split("/");var r=[];for(var i=t.length-1;i>=0;i--){if(t[i]==="node_modules")continue;var s=t.slice(0,i+1).join("/")+"/node_modules";r.push(s)}return r}t||(t="/");if(require._core[e])return e;var n=require.modules.path();t=n.resolve("/",t);var r=t||"/";if(e.match(/^(?:\.\.?\/|\/)/)){var i=o(n.resolve(r,e))||u(n.resolve(r,e));if(i)return i}var s=a(e,r);if(s)return s;throw new Error("Cannot find module '"+e+"'")}}(),require.alias=function(e,t){var n=require.modules.path(),r=null;try{r=require.resolve(e+"/package.json","/")}catch(i){r=require.resolve(e,"/")}var s=n.dirname(r),o=(Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t})(require.modules);for(var u=0;u<o.length;u++){var a=o[u];if(a.slice(0,s.length+1)===s+"/"){var f=a.slice(s.length);require.modules[t+f]=require.modules[s+f]}else a===s&&(require.modules[t]=require.modules[s])}},function(){var e={};require.define=function(t,n){require.modules.__browserify_process&&(e=require.modules.__browserify_process());var r=require._core[t]?"":require.modules.path().dirname(t),i=function(e){return require(e,r)};i.resolve=function(e){return require.resolve(e,r)},i.modules=require.modules,i.define=require.define,i.cache=require.cache;var s={exports:{}};require.modules[t]=function(){return require.cache[t]=s,n.call(s.exports,i,s,s.exports,r,t,e),s.exports}}}(),require.define("path",function(e,t,n,r,i,s){function o(e,t){var n=[];for(var r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}function u(e,t){var n=0;for(var r=e.length;r>=0;r--){var i=e[r];i=="."?e.splice(r,1):i===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var a=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;n.resolve=function(){var e="",t=!1;for(var n=arguments.length;n>=-1&&!t;n--){var r=n>=0?arguments[n]:s.cwd();if(typeof r!="string"||!r)continue;e=r+"/"+e,t=r.charAt(0)==="/"}return e=u(o(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},n.normalize=function(e){var t=e.charAt(0)==="/",n=e.slice(-1)==="/";return e=u(o(e.split("/"),function(e){return!!e}),!t).join("/"),!e&&!t&&(e="."),e&&n&&(e+="/"),(t?"/":"")+e},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(o(e,function(e,t){return e&&typeof e=="string"}).join("/"))},n.dirname=function(e){var t=a.exec(e)[1]||"",n=!1;return t?t.length===1||n&&t.length<=3&&t.charAt(1)===":"?t:t.substring(0,t.length-1):"."},n.basename=function(e,t){var n=a.exec(e)[2]||"";return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return a.exec(e)[3]||""}}),require.define("__browserify_process",function(e,t,n,r,i,s){var s=t.exports={};s.nextTick=function(){var e=[],t=typeof window!="undefined"&&window.postMessage&&window.addEventListener;return t&&window.addEventListener("message",function(t){if(t.source===window&&t.data==="browserify-tick"){t.stopPropagation();if(e.length>0){var n=e.shift();n()}}},!0),function(n){t?(e.push(n),window.postMessage("browserify-tick","*")):setTimeout(n,0)}}(),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.binding=function(t){if(t==="evals")return e("vm");throw new Error("No such module. (Possibly not yet loaded)")},function(){var t="/",n;s.cwd=function(){return t},s.chdir=function(r){n||(n=e("path")),t=n.resolve(r,t)}}()}),require.define("/src/client.coffee",function(e,t,n,r,i,s){(function(){var n,r,i,s,o,u;r=e("shred"),i=e("./patchboard_api"),u=i.schema,s=i["interface"],o=i.resources,n=function(){function e(e){var t,n,i,o,a,f,l,c,h,p,d,v,m,g;this.shred=new r,this.schema_id=e.schema.id,this.schemas=e.schema.properties,this.directory=e.directory,p=u.properties;for(o in p)c=p[o],t=""+u.id+"#"+o,this.schemas[t]=c;this["interface"]={};for(n in s)h=s[n],this["interface"][n]=h;d=e["interface"];for(n in d)h=d[n],this["interface"][n]=h;this.wrappers={},v=this.schemas;for(l in v){c=v[l];if(l==="patchboard#resource")continue;if(c["extends"]){f=c["extends"].$ref,(f!=null?f.indexOf("#"):void 0)===0?a=this.schemas[f.slice(1)]:a=this.schemas[f],i={properties:{}},m=a.properties;for(n in m)h=m[n],i.properties[n]=h;g=c.properties;for(n in g)h=g[n],i.properties[n]=h;c.properties=i.properties,f.indexOf("#")===0&&(this.wrappers[l]=this.resource_wrapper(l,c))}else c.type==="array"?this.wrappers[l]=this.array_wrapper(c):c.type==="object"&&(this.wrappers[l]=this.object_wrapper(c))}}return e.discover=function(t,n){return(new r).request({url:t,method:"GET",headers:{Accept:"application/json"},on:{200:function(t){var r;return r=new e(t.content.data),n(null,r)},error:function(e){return n(e)}}})},e.prototype.register_schemas=function(e){var t,n,r,i,s,o;n=e.id,s=e.properties,o=[];for(r in s)i=s[r],o.push(t=""+u.id+"#"+r);return o},e.prototype.array_wrapper=function(e){var t,n;return t=this,n=this.munge_type(e.items),function(e){var r,i,s,o;r=[];for(s=0,o=e.length;s<o;s++)i=e[s],r.push(t.wrap(n,i));return r}},e.prototype.munge_type=function(e){if(e.$ref)return e.$ref.slice(1);if(e.type)return e.type},e.prototype.object_wrapper=function(e){var t;return t=this,function(n){var r,i,s,o,u,a;a=e.properties;for(r in a)i=a[r],s=n[r],o=t.munge_type(i),o?u=t.wrap(o,s):u=s,n[r]=u;if(e.additionalProperties){o=t.munge_type(e.additionalProperties);if(o)for(r in n){s=n[r];if(!e.properties||!e.properties[r])n[r]=t.wrap(o,s)}}return n}},e.prototype.resource_wrapper=function(e,t){var n,r,i;return n=this,r=this.resource_constructor(),r.resource_type=e,(i=this["interface"][e])&&this.define_interface(r,i.actions),this.define_properties(r,t.properties),function(e){return new r(e)}},e.prototype.define_interface=function(e,t){var n,r,i,s,o;e.prototype.requests={},s=this.resource_prototype;for(i in s)r=s[i],e.prototype[i]=r;o=[];for(i in t)n=t[i],e.prototype.requests[i]=this.request_creator(i,n),o.push(e.prototype[i]=this.register_action(i));return o},e.prototype.define_properties=function(e,t){var n,r,i,s,o;n=this,o=[];for(r in t)i=t[r],s=this.property_spec(r,i),o.push(Object.defineProperty(e.prototype,r,s));return o},e.prototype.property_spec=function(e,t){var n,r,i;return n=this,i=this.create_wrapping_function(e,t),r={},r.get=function(){var t;return t=this.properties[e],i(t)},t.readonly||(r.set=function(t){return this.properties[e]=t}),r},e.prototype.resource_constructor=function(){var e;return e=this,function(t){return Object.defineProperty(this,"client",{value:e,enumerable:!1}),this.properties=t,null}},e.prototype.resource_prototype={prepare_request:function(e,t){var n;n=this.requests[e];if(n)return n.call(this,e,t);throw"No such action defined: "+e},request:function(e,t){var n;return n=this.prepare_request(e,t),this.client.shred.request(n)},credential:function(e,t){var n;if(e==="Capability")return n=this.properties.capabilities[t]}},e.prototype.register_action=function(e){return function(t){return this.request(e,t)}},e.prototype.request_creator=function(e,t){var n,r,i,s,o,u,a,f,l,c;r=this,s=t.method,i={};if(a=t.request_entity)u=r.schemas[a].mediaType,i["Content-Type"]=u;if(c=t.response_entity)l=r.schemas[c].mediaType,i.Accept=l;n=t.authorization;if(o=t.query)f=o.required;return function(e,t){var o,u,a,l,h,p,d,v,m,g;h={url:this.url,method:s,headers:{},content:t.content};for(l in i)v=i[l],h.headers[l]=v;n&&(o=this.credential(n,e),h.headers.Authorization=""+n+" "+o),m=t.headers;for(e in m)v=m[e],h.headers[e]=v;t.query&&(h.query=t.query);for(l in f){v=f[l];if(!h.query[l])throw"Missing required query param: "+l}h.on={};if(u=t.on.error)h.on.error=u,delete t.on.error;if(p=t.on.response)h.on.response=p,delete t.on.response;g=t.on;for(d in g)a=g[d],h.on[d]=function(e){var t;return t=r.wrap(c,e.content.data),a(e,t)};return h}},e.prototype.create_wrapping_function=function(e,t){var n;return n=this,t.type==="object"?this.object_wrapper(t):t.type==="array"?this.array_wrapper(t):this.wrappers[t.type]?function(e){return n.wrap(t.type,e)}:function(e){return e}},e.prototype.wrap=function(e,t){var n;return(n=this.wrappers[e])?n(t):t},e}(),t.exports=n}).call(this)}),require.define("/node_modules/shred/package.json",function(e,t,n,r,i,s){t.exports={main:"./lib/shred.js"}}),require.define("/node_modules/shred/lib/shred.js",function(e,t,n,r,i,s){var o=e("underscore"),u=e("ax"),a=e("cookiejar"),f=a.CookieJar,l=function(e){e=e||{},this.agent=e.agent,this.defaults=e.defaults||{},this.log=e.logger||new u({level:"info"}),this._sharedCookieJar=new f,this.logCurl=e.logCurl||!1};l.Request=e("./shred/request"),l.Response=e("./shred/response"),l.prototype={request:function(e){return e.logger=this.log,e.logCurl=e.logCurl||this.logCurl,e.cookieJar="cookieJar"in e?e.cookieJar:this._sharedCookieJar,e.agent=e.agent||this.agent,new l.Request(o.defaults(e,this.defaults))}},"get put post delete".split(" ").forEach(function(e){l.prototype[e]=function(t){return t.method=e,this.request(t)}}),t.exports=l}),require.define("/node_modules/shred/node_modules/underscore/package.json",function(e,t,n,r,i,s){t.exports={main:"underscore.js"}}),require.define("/node_modules/shred/node_modules/underscore/underscore.js",function(e,t,n,r,i,s){(function(){function L(e,t,n){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e._chain&&(e=e._wrapped),t._chain&&(t=t._wrapped);if(e.isEqual&&T.isFunction(e.isEqual))return e.isEqual(t);if(t.isEqual&&T.isFunction(t.isEqual))return t.isEqual(e);var r=l.call(e);if(r!=l.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var i=n.length;while(i--)if(n[i]==e)return!0;n.push(e);var s=0,o=!0;if(r=="[object Array]"){s=e.length,o=s==t.length;if(o)while(s--)if(!(o=s in e==s in t&&L(e[s],t[s],n)))break}else{if("constructor"in e!="constructor"in t||e.constructor!=t.constructor)return!1;for(var u in e)if(c.call(e,u)){s++;if(!(o=c.call(t,u)&&L(e[u],t[u],n)))break}if(o){for(u in t)if(c.call(t,u)&&!(s--))break;o=!s}}return n.pop(),o}var e=this,r=e._,i={},s=Array.prototype,o=Object.prototype,u=Function.prototype,a=s.slice,f=s.unshift,l=o.toString,c=o.hasOwnProperty,h=s.forEach,p=s.map,d=s.reduce,v=s.reduceRight,m=s.filter,g=s.every,y=s.some,b=s.indexOf,w=s.lastIndexOf,E=Array.isArray,S=Object.keys,x=u.bind,T=function(e){return new M(e)};typeof n!="undefined"?(typeof t!="undefined"&&t.exports&&(n=t.exports=T),n._=T):e._=T,T.VERSION="1.3.0";var N=T.each=T.forEach=function(e,t,n){if(e==null)return;if(h&&e.forEach===h)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,s=e.length;r<s;r++)if(r in e&&t.call(n,e[r],r,e)===i)return}else for(var o in e)if(c.call(e,o)&&t.call(n,e[o],o,e)===i)return};T.map=function(e,t,n){var r=[];return e==null?r:p&&e.map===p?e.map(t,n):(N(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),e.length===+e.length&&(r.length=e.length),r)},T.reduce=T.foldl=T.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduce===d)return r&&(t=T.bind(t,r)),i?e.reduce(t,n):e.reduce(t);N(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},T.reduceRight=T.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(v&&e.reduceRight===v)return r&&(t=T.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=T.toArray(e).reverse();return r&&!i&&(t=T.bind(t,r)),i?T.reduce(s,t,n,r):T.reduce(s,t)},T.find=T.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},T.filter=T.select=function(e,t,n){var r=[];return e==null?r:m&&e.filter===m?e.filter(t,n):(N(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},T.reject=function(e,t,n){var r=[];return e==null?r:(N(e,function(e,i,s){t.call(n,e,i,s)||(r[r.length]=e)}),r)},T.every=T.all=function(e,t,n){var r=!0;return e==null?r:g&&e.every===g?e.every(t,n):(N(e,function(e,s,o){if(!(r=r&&t.call(n,e,s,o)))return i}),r)};var C=T.some=T.any=function(e,t,n){t||(t=T.identity);var r=!1;return e==null?r:y&&e.some===y?e.some(t,n):(N(e,function(e,s,o){if(r||(r=t.call(n,e,s,o)))return i}),!!r)};T.include=T.contains=function(e,t){var n=!1;return e==null?n:b&&e.indexOf===b?e.indexOf(t)!=-1:(n=C(e,function(e){return e===t}),n)},T.invoke=function(e,t){var n=a.call(arguments,2);return T.map(e,function(e){return(T.isFunction(t)?t||e:e[t]).apply(e,n)})},T.pluck=function(e,t){return T.map(e,function(e){return e[t]})},T.max=function(e,t,n){if(!t&&T.isArray(e))return Math.max.apply(Math,e);if(!t&&T.isEmpty(e))return-Infinity;var r={computed:-Infinity};return N(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},T.min=function(e,t,n){if(!t&&T.isArray(e))return Math.min.apply(Math,e);if(!t&&T.isEmpty(e))return Infinity;var r={computed:Infinity};return N(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},T.shuffle=function(e){var t=[],n;return N(e,function(e,r,i){r==0?t[0]=e:(n=Math.floor(Math.random()*(r+1)),t[r]=t[n],t[n]=e)}),t},T.sortBy=function(e,t,n){return T.pluck(T.map(e,function(e,r,i){return{value:e,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}),"value")},T.groupBy=function(e,t){var n={},r=T.isFunction(t)?t:function(e){return e[t]};return N(e,function(e,t){var i=r(e,t);(n[i]||(n[i]=[])).push(e)}),n},T.sortedIndex=function(e,t,n){n||(n=T.identity);var r=0,i=e.length;while(r<i){var s=r+i>>1;n(e[s])<n(t)?r=s+1:i=s}return r},T.toArray=function(e){return e?e.toArray?e.toArray():T.isArray(e)?a.call(e):T.isArguments(e)?a.call(e):T.values(e):[]},T.size=function(e){return T.toArray(e).length},T.first=T.head=function(e,t,n){return t!=null&&!n?a.call(e,0,t):e[0]},T.initial=function(e,t,n){return a.call(e,0,e.length-(t==null||n?1:t))},T.last=function(e,t,n){return t!=null&&!n?a.call(e,Math.max(e.length-t,0)):e[e.length-1]},T.rest=T.tail=function(e,t,n){return a.call(e,t==null||n?1:t)},T.compact=function(e){return T.filter(e,function(e){return!!e})},T.flatten=function(e,t){return T.reduce(e,function(e,n){return T.isArray(n)?e.concat(t?n:T.flatten(n)):(e[e.length]=n,e)},[])},T.without=function(e){return T.difference(e,a.call(arguments,1))},T.uniq=T.unique=function(e,t,n){var r=n?T.map(e,n):e,i=[];return T.reduce(r,function(n,r,s){if(0==s||(t===!0?T.last(n)!=r:!T.include(n,r)))n[n.length]=r,i[i.length]=e[s];return n},[]),i},T.union=function(){return T.uniq(T.flatten(arguments,!0))},T.intersection=T.intersect=function(e){var t=a.call(arguments,1);return T.filter(T.uniq(e),function(e){return T.every(t,function(t){return T.indexOf(t,e)>=0})})},T.difference=function(e){var t=T.flatten(a.call(arguments,1));return T.filter(e,function(e){return!T.include(t,e)})},T.zip=function(){var e=a.call(arguments),t=T.max(T.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=T.pluck(e,""+r);return n},T.indexOf=function(e,t,n){if(e==null)return-1;var r,i;if(n)return r=T.sortedIndex(e,t),e[r]===t?r:-1;if(b&&e.indexOf===b)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(r in e&&e[r]===t)return r;return-1},T.lastIndexOf=function(e,t){if(e==null)return-1;if(w&&e.lastIndexOf===w)return e.lastIndexOf(t);var n=e.length;while(n--)if(n in e&&e[n]===t)return n;return-1},T.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var k=function(){};T.bind=function(t,n){var r,i;if(t.bind===x&&x)return x.apply(t,a.call(arguments,1));if(!T.isFunction(t))throw new TypeError;return i=a.call(arguments,2),r=function(){if(this instanceof r){k.prototype=t.prototype;var e=new k,s=t.apply(e,i.concat(a.call(arguments)));return Object(s)===s?s:e}return t.apply(n,i.concat(a.call(arguments)))}},T.bindAll=function(e){var t=a.call(arguments,1);return t.length==0&&(t=T.functions(e)),N(t,function(t){e[t]=T.bind(e[t],e)}),e},T.memoize=function(e,t){var n={};return t||(t=T.identity),function(){var r=t.apply(this,arguments);return c.call(n,r)?n[r]:n[r]=e.apply(this,arguments)}},T.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(e,n)},t)},T.defer=function(e){return T.delay.apply(T,[e,1].concat(a.call(arguments,1)))},T.throttle=function(e,t){var n,r,i,s,o,u=T.debounce(function(){o=s=!1},t);return function(){n=this,r=arguments;var a=function(){i=null,o&&e.apply(n,r),u()};i||(i=setTimeout(a,t)),s?o=!0:e.apply(n,r),u(),s=!0}},T.debounce=function(e,t){var n;return function(){var r=this,i=arguments,s=function(){n=null,e.apply(r,i)};clearTimeout(n),n=setTimeout(s,t)}},T.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments))}},T.wrap=function(e,t){return function(){var n=[e].concat(a.call(arguments,0));return t.apply(this,n)}},T.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},T.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},T.keys=S||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)c.call(e,n)&&(t[t.length]=n);return t},T.values=function(e){return T.map(e,T.identity)},T.functions=T.methods=function(e){var t=[];for(var n in e)T.isFunction(e[n])&&t.push(n);return t.sort()},T.extend=function(e){return N(a.call(arguments,1),function(t){for(var n in t)t[n]!==void 0&&(e[n]=t[n])}),e},T.defaults=function(e){return N(a.call(arguments,1),function(t){for(var n in t)e[n]==null&&(e[n]=t[n])}),e},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e},T.isEqual=function(e,t){return L(e,t,[])},T.isEmpty=function(e){if(T.isArray(e)||T.isString(e))return e.length===0;for(var t in e)if(c.call(e,t))return!1;return!0},T.isElement=function(e){return!!e&&e.nodeType==1},T.isArray=E||function(e){return l.call(e)=="[object Array]"},T.isObject=function(e){return e===Object(e)},T.isArguments=function(e){return l.call(e)=="[object Arguments]"},T.isArguments(arguments)||(T.isArguments=function(e){return!!e&&!!c.call(e,"callee")}),T.isFunction=function(e){return l.call(e)=="[object Function]"},T.isString=function(e){return l.call(e)=="[object String]"},T.isNumber=function(e){return l.call(e)=="[object Number]"},T.isNaN=function(e){return e!==e},T.isBoolean=function(e){return e===!0||e===!1||l.call(e)=="[object Boolean]"},T.isDate=function(e){return l.call(e)=="[object Date]"},T.isRegExp=function(e){return l.call(e)=="[object RegExp]"},T.isNull=function(e){return e===null},T.isUndefined=function(e){return e===void 0},T.noConflict=function(){return e._=r,this},T.identity=function(e){return e},T.times=function(e,t,n){for(var r=0;r<e;r++)t.call(n,r)},T.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},T.mixin=function(e){N(T.functions(e),function(t){D(t,T[t]=e[t])})};var A=0;T.uniqueId=function(e){var t=A++;return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/.^/;T.template=function(e,t){var n=T.templateSettings,r="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(n.escape||O,function(e,t){return"',_.escape("+t.replace(/\\'/g,"'")+"),'"}).replace(n.interpolate||O,function(e,t){return"',"+t.replace(/\\'/g,"'")+",'"}).replace(n.evaluate||O,function(e,t){return"');"+t.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ").replace(/\\\\/g,"\\")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",i=new Function("obj","_",r);return t?i(t,T):function(e){return i.call(this,e,T)}},T.chain=function(e){return T(e).chain()};var M=function(e){this._wrapped=e};T.prototype=M.prototype;var _=function(e,t){return t?T(e).chain():e},D=function(e,t){M.prototype[e]=function(){var e=a.call(arguments);return f.call(e,this._wrapped),_(t.apply(T,e),this._chain)}};T.mixin(T),N(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];M.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);var r=n.length;return(e=="shift"||e=="splice")&&r===0&&delete n[0],_(n,this._chain)}}),N(["concat","join","slice"],function(e){var t=s[e];M.prototype[e]=function(){return _(t.apply(this._wrapped,arguments),this._chain)}}),M.prototype.chain=function(){return this._chain=!0,this},M.prototype.value=function(){return this._wrapped}}).call(this)}),require.define("/node_modules/shred/node_modules/ax/package.json",function(e,t,n,r,i,s){t.exports={main:"./lib/ax.js"}}),require.define("/node_modules/shred/node_modules/ax/lib/ax.js",function(e,t,n,r,i,s){var o=e("util").inspect,u=e("fs"),a=e("underscore"),f=function(e,t){var n=e=="debug"||e=="error";return t?typeof t=="object"?t instanceof Error&&n?t.stack:o(t):t.toString():t.toString()},l=function(e){return this},c=function(e,t){return function(t){return this.stream.write(this.format(e,t)+"\n"),this}},h=function(e){var t=this,e=e||{};t.options=a.defaults(e,{level:"info",timestamp:!0,prefix:""}),t.options.module&&(t.options.prefix=t.options.module),t.options.file?t.stream=u.createWriteStream(t.options.file,{flags:"a"}):s.title==="node"?t.stream=s.stderr:s.title==="browser"&&(t.stream=function(){return console[t.options.level].apply(console,arguments)});switch(t.options.level){case"debug":a.each(["debug","info","warn"],function(e){t[e]=h.writer(e)});case"info":a.each(["info","warn"],function(e){t[e]=h.writer(e)});case"warn":t.warn=h.writer("warn")}};h.writer=function(e){return function(t){var n=this;s.title==="node"?n.stream.write(n.format(e,t)+"\n"):s.title==="browser"&&n.stream(n.format(e,t)+"\n")}},h.prototype={info:function(){},debug:function(){},warn:function(){},error:h.writer("error"),format:function(e,t){if(!t)return"";var n=this,r=n.options.prefix,i=n.options.timestamp?" "+(new Date).toISOString():"";return r+i+": "+t}},t.exports=h}),require.define("util",function(e,t,n,r,i,s){function u(e){return e instanceof Array||Array.isArray(e)||e&&e!==Object.prototype&&u(e.__proto__)}function a(e){return e instanceof RegExp||typeof e=="object"&&Object.prototype.toString.call(e)==="[object RegExp]"}function f(e){if(e instanceof Date)return!0;if(typeof e!="object")return!1;var t=Date.prototype&&d(Date.prototype),n=e.__proto__&&d(e.__proto__);return JSON.stringify(n)===JSON.stringify(t)}function l(e){return e<10?"0"+e.toString(10):e.toString(10)}function h(){var e=new Date,t=[l(e.getHours()),l(e.getMinutes()),l(e.getSeconds())].join(":");return[e.getDate(),c[e.getMonth()],t].join(" ")}var o=e("events");n.print=function(){},n.puts=function(){},n.debug=function(){},n.inspect=function(e,t,r,i){function l(e,r){if(e&&typeof e.inspect=="function"&&e!==n&&(!e.constructor||e.constructor.prototype!==e))return e.inspect(r);switch(typeof e){case"undefined":return o("undefined","undefined");case"string":var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return o(i,"string");case"number":return o(""+e,"number");case"boolean":return o(""+e,"boolean")}if(e===null)return o("null","null");var c=p(e),h=t?d(e):c;if(typeof e=="function"&&h.length===0){if(a(e))return o(""+e,"regexp");var v=e.name?": "+e.name:"";return o("[Function"+v+"]","special")}if(f(e)&&h.length===0)return o(e.toUTCString(),"date");var m,g,y;u(e)?(g="Array",y=["[","]"]):(g="Object",y=["{","}"]);if(typeof e=="function"){var b=e.name?": "+e.name:"";m=a(e)?" "+e:" [Function"+b+"]"}else m="";f(e)&&(m=" "+e.toUTCString());if(h.length===0)return y[0]+m+y[1];if(r<0)return a(e)?o(""+e,"regexp"):o("[Object]","special");s.push(e);var w=h.map(function(t){var n,i;e.__lookupGetter__&&(e.__lookupGetter__(t)?e.__lookupSetter__(t)?i=o("[Getter/Setter]","special"):i=o("[Getter]","special"):e.__lookupSetter__(t)&&(i=o("[Setter]","special"))),c.indexOf(t)<0&&(n="["+t+"]"),i||(s.indexOf(e[t])<0?(r===null?i=l(e[t]):i=l(e[t],r-1),i.indexOf("\n")>-1&&(u(e)?i=i.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):i="\n"+i.split("\n").map(function(e){return"   "+e}).join("\n"))):i=o("[Circular]","special"));if(typeof n=="undefined"){if(g==="Array"&&t.match(/^\d+$/))return i;n=JSON.stringify(""+t),n.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=o(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=o(n,"string"))}return n+": "+i});s.pop();var E=0,S=w.reduce(function(e,t){return E++,t.indexOf("\n")>=0&&E++,e+t.length+1},0);return S>50?w=y[0]+(m===""?"":m+"\n ")+" "+w.join(",\n  ")+" "+y[1]:w=y[0]+m+" "+w.join(", ")+" "+y[1],w}var s=[],o=function(e,t){var n={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r={special:"cyan",number:"blue","boolean":"yellow","undefined":"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[t];return r?"["+n[r][0]+"m"+e+"["+n[r][1]+"m":e};return i||(o=function(e,t){return e}),l(e,typeof r=="undefined"?2:r)};var c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(e){},n.pump=null;var p=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},d=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.hasOwnProperty.call(e,n)&&t.push(n);return t},v=Object.create||function(e,t){var n;if(e===null)n={__proto__:null};else{if(typeof e!="object")throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return typeof t!="undefined"&&Object.defineProperties&&Object.defineProperties(n,t),n};n.inherits=function(e,t){e.super_=t,e.prototype=v(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}}),require.define("events",function(e,t,n,r,i,s){s.EventEmitter||(s.EventEmitter=function(){});var o=n.EventEmitter=s.EventEmitter,u=typeof Array.isArray=="function"?Array.isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"},a=10;o.prototype.setMaxListeners=function(e){this._events||(this._events={}),this._events.maxListeners=e},o.prototype.emit=function(e){if(e==="error")if(!this._events||!this._events.error||u(this._events.error)&&!this._events.error.length)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if(typeof t=="function"){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);t.apply(this,n)}return!0}if(u(t)){var n=Array.prototype.slice.call(arguments,1),r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i].apply(this,n);return!0}return!1},o.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");this._events||(this._events={}),this.emit("newListener",e,t);if(!this._events[e])this._events[e]=t;else if(u(this._events[e])){if(!this._events[e].warned){var n;this._events.maxListeners!==undefined?n=this._events.maxListeners:n=a,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}this._events[e].push(t)}else this._events[e]=[this._events[e],t];return this},o.prototype.on=o.prototype.addListener,o.prototype.once=function(e,t){var n=this;return n.on(e,function r(){n.removeListener(e,r),t.apply(this,arguments)}),this},o.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var n=this._events[e];if(u(n)){var r=n.indexOf(t);if(r<0)return this;n.splice(r,1),n.length==0&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},o.prototype.removeAllListeners=function(e){return e&&this._events&&this._events[e]&&(this._events[e]=null),this},o.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),u(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}}),require.define("fs",function(e,t,n,r,i,s){}),require.define("/node_modules/shred/node_modules/cookiejar/package.json",function(e,t,n,r,i,s){t.exports={main:"cookiejar.js"}}),require.define("/node_modules/shred/node_modules/cookiejar/cookiejar.js",function(e,t,n,r,i,s){n.CookieAccessInfo=CookieAccessInfo=function u(e,t,n,r){return this instanceof u?(this.domain=e||undefined,this.path=t||"/",this.secure=!!n,this.script=!!r,this):new u(e,t,n,r)},n.Cookie=Cookie=function a(e){return e instanceof a?e:this instanceof a?(this.name=null,this.value=null,this.expiration_date=Infinity,this.path="/",this.domain=null,this.secure=!1,this.noscript=!1,e&&this.parse(e),this):new a(e)},Cookie.prototype.toString=function f(){var e=[this.name+"="+this.value];return this.expiration_date!==Infinity&&e.push("expires="+(new Date(this.expiration_date)).toGMTString()),this.domain&&e.push("domain="+this.domain),this.path&&e.push("path="+this.path),this.secure&&e.push("secure"),this.noscript&&e.push("httponly"),e.join("; ")},Cookie.prototype.toValueString=function(){return this.name+"="+this.value};var o=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;Cookie.prototype.parse=function(t){if(this instanceof Cookie){var n=t.split(";"),r=n[0].match(/([^=]+)=((?:.|\n)*)/),i=r[1],s=r[2];this.name=i,this.value=s;for(var o=1;o<n.length;o++){r=n[o].match(/([^=]+)(?:=((?:.|\n)*))?/),i=r[1].trim().toLowerCase(),s=r[2];switch(i){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=s?Number(Date.parse(s)):Infinity;break;case"path":this.path=s?s.trim():"";break;case"domain":this.domain=s?s.trim():"";break;case"secure":this.secure=!0}}return this}return(new Cookie).parse(t)},Cookie.prototype.matches=function(t){return this.noscript&&t.script||this.secure&&!t.secure||!this.collidesWith(t)?!1:!0},Cookie.prototype.collidesWith=function(t){if(this.path&&!t.path||this.domain&&!t.domain)return!1;if(this.path&&t.path.indexOf(this.path)!==0)return!1;if(this.domain===t.domain)return!0;if(this.domain&&this.domain.charAt(0)==="."){var n=t.domain.indexOf(this.domain.slice(1));if(n===-1||n!==t.domain.length-this.domain.length+1)return!1}else if(this.domain)return!1;return!0},n.CookieJar=CookieJar=function l(){if(this instanceof l){var e={};return this.setCookie=function(n){n=Cookie(n);var r=n.expiration_date<=Date.now();if(n.name in e){var i=e[n.name];for(var s=0;s<i.length;s++){var o=i[s];if(o.collidesWith(n))return r?(i.splice(s,1),i.length===0&&delete e[n.name],!1):i[s]=n}return r?!1:(i.push(n),n)}return r?!1:e[n.name]=[n]},this.getCookie=function(n,r){var i=e[n];for(var s=0;s<i.length;s++){var o=i[s];if(o.expiration_date<=Date.now()){i.length===0&&delete e[o.name];continue}if(o.matches(r))return o}},this.getCookies=function(n){var r=[];for(var i in e){var s=this.getCookie(i,n);s&&r.push(s)}return r.toString=function o(){return r.join(":")},r.toValueString=function(){return r.map(function(e){return e.toValueString()}).join(";")},r},this}return new l},CookieJar.prototype.setCookies=function(t){t=Array.isArray(t)?t:t.split(o);var n=[];for(var r=0;r<t.length;r++){var i=Cookie(t[r]);this.setCookie(i)&&n.push(i)}return n}}),require.define("/node_modules/shred/lib/shred/request.js"
,function(e,t,n,r,i,s){var o=e("http"),u=e("https"),a=e("./parseUri"),f=e("events").EventEmitter,l=e("sprintf").sprintf,c=e("underscore"),h=e("./response"),p=e("./mixins/headers"),d=e("./content"),v=o.STATUS_CODES||{100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version not supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended"},m=function(e){this.log=e.logger,this.cookieJar=e.cookieJar,this.encoding=e.encoding,this.logCurl=e.logCurl,g(this,e||{}),y(this)};Object.defineProperties(m.prototype,{url:{get:function(){return this.scheme?l("%s://%s:%s%s",this.scheme,this.host,this.port,(this.proxy?"/":this.path)+(this.query?"?"+this.query:"")):null},set:function(e){return e=a(e),this.scheme=e.protocol,this.host=e.host,this.port=e.port,this.path=e.path,this.query=e.query,this},enumerable:!0},headers:{get:function(){return this.getHeaders()},enumerable:!0},port:{get:function(){if(!this._port)switch(this.scheme){case"https":return this._port=443;case"http":default:return this._port=80}return this._port},set:function(e){return this._port=e,this},enumerable:!0},method:{get:function(){return this._method=this._method||"GET"},set:function(e){return this._method=e,this},enumerable:!0},query:{get:function(){return this._query},set:function(e){var t=function(e){var t="";for(var n in e)t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return t=t.slice(0,-1),t};return e?(typeof e=="object"&&(e=t(e)),this._query=e):this._query="",this},enumerable:!0},parameters:{get:function(){return QueryString.parse(this._query||"")},enumerable:!0},body:{get:function(){return this._body},set:function(e){return this._body=new d({data:e,type:this.getHeader("Content-Type")}),this.setHeader("Content-Type",this.content.type),this.setHeader("Content-Length",this.content.length),this},enumerable:!0},timeout:{get:function(){return this._timeout},set:function(e){var t=this,n=0;return e?(typeof e=="number"?n=e:n=(e.milliseconds||0)+1e3*((e.seconds||0)+60*((e.minutes||0)+60*(e.hours||0))),this._timeout=n,this):this},enumerable:!0}}),Object.defineProperty(m.prototype,"content",Object.getOwnPropertyDescriptor(m.prototype,"body")),c.extend(m.prototype,{inspect:function(){var e=this,t=c(e.headers).reduce(function(e,t,n){return e.push("	"+n+": "+t),e},[]).join("\n"),n=["<Shred Request> ",e.method.toUpperCase(),e.url].join(" ");return[n,"- Headers:",t].join("\n")}}),c.extend(m.prototype,{on:function(e,t){var n=this.emitter;return arguments.length===1&&typeof e=="function"?n.on("response",e):arguments.length===1&&typeof e=="object"?c(e).each(function(e,t){n.on(t,e)}):n.on(e,t),this}}),p.gettersAndSetters(m);var g=function(e,t){e.log.debug("Processing request options .."),e.emitter=new f,e.agent=t.agent,t.on&&c(t.on).each(function(t,n){e.emitter.on(n,t)});if(!t.url&&!t.host){e.emitter.emit("request_error",new Error("No url or url options (host, port, etc.)"));return}t.url&&(t.proxy?(e.url=t.proxy,e.path=t.url):e.url=t.url),e.query=t.query||t.parameters||e.query,e.method=t.method,e.setHeader("user-agent",t.agent||"Shred"),e.setHeaders(t.headers);if(e.cookieJar){var n=e.cookieJar.getCookies(CookieAccessInfo(e.host,e.path));if(n.length){var r=e.getHeader("cookie")||"";for(var i=0;i<n.length;++i)r.length&&r[r.length-1]!=";"&&(r+=";"),r+=n[i].name+"="+n[i].value+";";e.setHeader("cookie",r)}}if(t.body||t.content)e.content=t.body||t.content;e.timeout=t.timeout},y=function(e){var t;e.log.debug("Creating request .."),e.log.debug(e);var n={host:e.host,port:e.port,method:e.method,path:e.path+(e.query?"?"+e.query:""),headers:e.getHeaders(),scheme:e.scheme,agent:e.agent};e.logCurl&&b(e);var r=e.scheme=="http"?o:u;e._raw=r.request(n,function(n){e.log.debug("Received response .."),clearTimeout(t),n=new h(n,e,function(t){var n=function(n){var r=e.emitter,i=v[t.status]?v[t.status].toLowerCase():null;r.listeners(t.status).length>0||r.listeners(i).length>0?(r.emit(t.status,t),r.emit(i,t)):r.listeners(n).length>0?r.emit(n,t):t.isRedirect||(r.emit("response",t),console.warn("Request has no event listener for status code "+t.status))};t.isRedirect?(e.log.debug("Redirecting to "+t.getHeader("Location")),e.url=t.getHeader("Location"),n("redirect"),y(e)):t.isError?n("error"):n("success")})}),e._raw.on("error",function(t){e.emitter.emit("request_error",t)}),e._raw.on("socket",function(t){e.emitter.emit("socket",t)}),e._raw.on("socket",function(){e._raw.socket.on("timeout",function(){e._raw.abort()})}),e.content&&(e.log.debug("Streaming body: '"+e.content.body.slice(0,59)+"' ... "),e._raw.write(e.content.body)),e.timeout&&(t=setTimeout(function(){e.log.debug("Timeout fired, aborting request ..."),e._raw.abort(),e.emitter.emit("timeout",e)},e.timeout)),e.log.debug("Sending request ..."),e._raw.end()},b=function(e){var t=e.getHeaders(),n="";for(var r in t)n+='-H "'+r+": "+t[r]+'" ';var i="";e.content&&(i+="-d '"+e.content.body+" ");var s=e.query?"?"+e.query:"";console.log("curl -X "+e.method.toUpperCase()+" "+e.scheme+"://"+e.host+":"+e.port+e.path+s+" "+n+i)};t.exports=m}),require.define("http",function(e,t,n,r,i,s){t.exports=e("http-browserify")}),require.define("/node_modules/http-browserify/package.json",function(e,t,n,r,i,s){t.exports={main:"index.js",browserify:"index.js"}}),require.define("/node_modules/http-browserify/index.js",function(e,t,n,r,i,s){var o=t.exports,u=e("events").EventEmitter,a=e("./lib/request");o.request=function(e,t){e||(e={}),e.host||(e.host=window.location.host.split(":")[0]),e.port||(e.port=window.location.port);var n=new a(new f,e);return t&&n.on("response",t),n},o.get=function(e,t){e.method="GET";var n=o.request(e,t);return n.end(),n},o.Agent=function(){},o.Agent.defaultMaxSockets=4;var f=function(){if(typeof window=="undefined")throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"];for(var t=0;t<e.length;t++)try{var n=new window.ActiveXObject(e[t]);return function(){if(n){var r=n;return n=null,r}return new window.ActiveXObject(e[t])}}catch(r){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}()}),require.define("/node_modules/http-browserify/lib/request.js",function(e,t,n,r,i,s){var o=e("events").EventEmitter,u=e("./response"),a=t.exports=function(e,t){var n=this;n.xhr=e,n.body="";var r=t.host+":"+t.port+(t.path||"/");e.open(t.method||"GET",(t.scheme||"http")+"://"+r,!0),t.headers&&Object.keys(t.headers).forEach(function(r){if(!n.isSafeRequestHeader(r))return;var i=t.headers[r];Array.isArray(i)?i.forEach(function(t){e.setRequestHeader(r,t)}):e.setRequestHeader(r,i)});var i=new u;i.on("ready",function(){n.emit("response",i)}),e.onreadystatechange=function(){i.handle(e)}};a.prototype=new o,a.prototype.setHeader=function(e,t){if(Array.isArray&&Array.isArray(t)||t instanceof Array)for(var n=0;n<t.length;n++)this.xhr.setRequestHeader(e,t[n]);else this.xhr.setRequestHeader(e,t)},a.prototype.write=function(e){this.body+=e},a.prototype.end=function(e){e!==undefined&&this.write(e),this.xhr.send(this.body)},a.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],a.prototype.isSafeRequestHeader=function(e){return e?a.unsafeHeaders.indexOf(e.toLowerCase())===-1:!1}}),require.define("/node_modules/http-browserify/lib/response.js",function(e,t,n,r,i,s){function f(e){var t=e.getAllResponseHeaders().split(/\r?\n/),n={};for(var r=0;r<t.length;r++){var i=t[r];if(i==="")continue;var s=i.match(/^([^:]+):\s*(.*)/);if(s){var o=s[1].toLowerCase(),u=s[2];n[o]!==undefined?Array.isArray&&Array.isArray(n[o])||n[o]instanceof Array?n[o].push(u):n[o]=[n[o],u]:n[o]=u}else n[i]=!0}return n}var o=e("events").EventEmitter,u=t.exports=function(e){this.offset=0};u.prototype=new o;var a={streaming:!0,status2:!0};u.prototype.getHeader=function(e){return this.headers[e.toLowerCase()]},u.prototype.handle=function(e){if(e.readyState===2&&a.status2){try{this.statusCode=e.status,this.headers=f(e)}catch(t){a.status2=!1}a.status2&&this.emit("ready")}else if(a.streaming&&e.readyState===3){try{this.statusCode||(this.statusCode=e.status,this.headers=f(e),this.emit("ready"))}catch(t){}try{this.write(e)}catch(t){a.streaming=!1}}else e.readyState===4&&(this.statusCode||(this.statusCode=e.status,this.emit("ready")),this.write(e),e.error?this.emit("error",e.responseText):this.emit("end"))},u.prototype.write=function(e){e.responseText.length>this.offset&&(this.emit("data",e.responseText.slice(this.offset)),this.offset=e.responseText.length)}}),require.define("https",function(e,t,n,r,i,s){t.exports=e("http")}),require.define("/node_modules/shred/lib/shred/parseUri.js",function(e,t,n,r,i,s){function o(e){var t=o.options,n=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},i=14;while(i--)r[t.key[i]]=n[i]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,i){n&&(r[t.q.name][n]=i)}),r}o.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t.exports=o}),require.define("/node_modules/shred/node_modules/sprintf/package.json",function(e,t,n,r,i,s){t.exports={main:"./lib/sprintf"}}),require.define("/node_modules/shred/node_modules/sprintf/lib/sprintf.js",function(e,t,n,r,i,s){var o=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,r){var i=1,s=n.length,u="",a,f=[],l,c,h,p,d,v;for(l=0;l<s;l++){u=e(n[l]);if(u==="string")f.push(n[l]);else if(u==="array"){h=n[l];if(h[2]){a=r[i];for(c=0;c<h[2].length;c++){if(!a.hasOwnProperty(h[2][c]))throw o('[sprintf] property "%s" does not exist',h[2][c]);a=a[h[2][c]]}}else h[1]?a=r[h[1]]:a=r[i++];if(/[^s]/.test(h[8])&&e(a)!="number")throw o("[sprintf] expecting number but found %s",e(a));switch(h[8]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":a=parseInt(a,10);break;case"e":a=h[7]?a.toExponential(h[7]):a.toExponential();break;case"f":a=h[7]?parseFloat(a).toFixed(h[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=String(a))&&h[7]?a.substring(0,h[7]):a;break;case"u":a=Math.abs(a);break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}a=/[def]/.test(h[8])&&h[3]&&a>=0?"+"+a:a,d=h[4]?h[4]=="0"?"0":h[4].charAt(1):" ",v=h[6]-String(a).length,p=h[6]?t(d,v):"",f.push(h[5]?a+p:p+a)}}return f.join("")},n.cache={},n.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\x25]+/.exec(t))!==null)r.push(n[0]);else if((n=/^\x25{2}/.exec(t))!==null)r.push("%");else{if((n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))===null)throw"[sprintf] huh?";if(n[2]){i|=1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\d]*)/i.exec(o))===null)throw"[sprintf] huh?";s.push(u[1]);while((o=o.substring(u[0].length))!=="")if((u=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null)s.push(u[1]);else{if((u=/^\[(\d+)\]/.exec(o))===null)throw"[sprintf] huh?";s.push(u[1])}n[2]=s}else i|=2;if(i===3)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(n)}t=t.substring(n[0].length)}return r},n}(),u=function(e,t){return t.unshift(e),o.apply(null,t)};n.sprintf=o,n.vsprintf=u}),require.define("/node_modules/shred/lib/shred/response.js",function(e,t,n,r,i,s){var o=e("underscore"),u=e("./content"),a=e("./mixins/headers"),f=e("cookiejar"),l=f.Cookie,c=null;try{c=e("zlib")}catch(h){console.warn("no zlib library")}var p=null;try{p=e("iconv-lite")}catch(h){console.warn("no iconv library")}var d=function(e,t,n){var r=this;this._raw=e,this._setHeaders.call(this,e.headers);if(t.cookieJar&&this.getHeader("set-cookie")){var i=this.getHeader("set-cookie"),s=[],o;for(var a=0;a<i.length;a++){var f=i[a];if(!f)continue;f.match(/domain\=/i)||(f+="; domain="+t.host),f.match(/path\=/i)||(f+="; path="+t.path);try{o=new l(f),o&&s.push(o)}catch(h){console.warn("Tried to set bad cookie: "+f)}}t.cookieJar.setCookies(s)}this.request=t,this.client=t.client,this.log=this.request.log;var d=[],v=0;e.on("data",function(e){d.push(e),v+=e.length}),e.on("end",function(){var e;if(typeof Buffer=="undefined")e=d.join("");else{e=new Buffer(v);for(var t=0,i=0;t<d.length;t++)d[t].copy(e,i),i+=d[t].length}var s=function(e){r._body=new u({body:e,type:r.getHeader("Content-Type")}),n(r)};c&&r.getHeader("Content-Encoding")==="gzip"?c.gunzip(e,function(t,n){p&&r.request.encoding?e=p.fromEncoding(n,r.request.encoding):e=n.toString(),s(e)}):(r.request.encoding&&(e=p.fromEncoding(e,r.request.encoding)),s(e))})};d.prototype={inspect:function(){var e=this,t=o(e.headers).reduce(function(e,t,n){return e.push("	"+n+": "+t),e},[]).join("\n"),n=["<Shred Response> ",e.status].join(" ");return[n,"- Headers:",t].join("\n")}},Object.defineProperties(d.prototype,{status:{get:function(){return this._raw.statusCode},enumerable:!0},body:{get:function(){return this._body}},content:{get:function(){return this.body},enumerable:!0},isRedirect:{get:function(){return this.status>299&&this.status<400&&this.getHeader("Location")},enumerable:!0},isError:{get:function(){return this.status===0||this.status>399},enumerable:!0}}),a.getters(d),a.privateSetters(d);var v=d.prototype.getHeader;d.prototype.getHeader=function(e){return v.call(this,e)||typeof this._raw.getHeader=="function"&&this._raw.getHeader(e)},t.exports=d}),require.define("/node_modules/shred/lib/shred/content.js",function(e,t,n,r,i,s){var o=e("underscore"),u=function(e){this.body=e.body,this.data=e.data,this.type=e.type};u.prototype={},Object.defineProperties(u.prototype,{type:{get:function(){if(this._type)return this._type;if(this._data)switch(typeof this._data){case"string":return"text/plain";case"object":return"application/json"}return"text/plain"},set:function(e){return this._type=e,this},enumerable:!0},data:{get:function(){return this._body?this.processor.parser(this._body):this._data},set:function(e){return this._body&&e&&l.setDataWithBody(this),this._data=e,this},enumerable:!0},body:{get:function(){return this._data?this.processor.stringify(this._data):this.processor.stringify(this._body)},set:function(e){return this._data&&e&&l.setBodyWithData(this),this._body=e,this},enumerable:!0},processor:{get:function(){var e=u.processors[this.type];return e?e:(e=o(this.type.split(";")[0].split(/\+|\//)).detect(function(e){return u.processors[e]}),u.processors[e]||{parser:a,stringify:f})},enumerable:!0},length:{get:function(){return typeof Buffer!="undefined"?Buffer.byteLength(this.body):this.body.length}}}),u.processors={},u.registerProcessor=function(e,t){e.forEach?e.forEach(function(e){u.processors[e]=t}):u.processors[e]=t};var a=function(e){return e},f=function(e){return e.toString()};u.registerProcessor(["text/html","text/plain","text"],{parser:a,stringify:f}),u.registerProcessor(["application/json; charset=utf-8","application/json","json"],{parser:function(e){return JSON.parse(e)},stringify:function(e){return JSON.stringify(e)}});var l={setDataWithBody:function(e){throw new Error("Attempt to set data attribute of a content object when the body attributes was already set.")},setBodyWithData:function(e){throw new Error("Attempt to set body attribute of a content object when the data attributes was already set.")}};t.exports=u}),require.define("/node_modules/shred/lib/shred/mixins/headers.js",function(e,t,n,r,i,s){var o=e("underscore"),u=function(e){return e.toLowerCase().replace("_","-").replace(/(^|-)(\w)/g,function(e){return e.toUpperCase()})},a=function(e){return{}},f=function(e){return e._headers||(e._headers=a(e))},l=function(e,t){return f(e)[u(t)]},c=function(e,t){var n=t&&t.length>0?t:Object.keys(f(e)),r=n.reduce(function(t,n){return t[n]=l(e,n),t},{});return Object.freeze(r),r},h=function(e,t,n){return f(e)[u(t)]=n,e},p=function(e,t){for(var n in t)h(e,n,t[n]);return this};t.exports={getters:function(e){e.prototype.getHeader=function(e){return l(this,e)},e.prototype.getHeaders=function(){return c(this,o(arguments))}},privateSetters:function(e){e.prototype._setHeader=function(e,t){return h(this,e,t)},e.prototype._setHeaders=function(e){return p(this,e)}},setters:function(e){e.prototype.setHeader=function(e,t){return h(this,e,t)},e.prototype.setHeaders=function(e){return p(this,e)}},gettersAndSetters:function(e){e.prototype.getHeader=function(e){return l(this,e)},e.prototype.getHeaders=function(){return c(this,o(arguments))},e.prototype.setHeader=function(e,t){return h(this,e,t)},e.prototype.setHeaders=function(e){return p(this,e)}}}}),require.define("/node_modules/shred/node_modules/iconv-lite/package.json",function(e,t,n,r,i,s){t.exports={}}),require.define("/node_modules/shred/node_modules/iconv-lite/index.js",function(e,t,n,r,i,s){var o=t.exports={toEncoding:function(e,t){return o.getCodec(t).toEncoding(e)},fromEncoding:function(e,t){return o.getCodec(t).fromEncoding(e)},defaultCharUnicode:"�",defaultCharSingleByte:"?",getCodec:function(e){var t=e||"utf8",n=undefined;for(;;){h(t)==="String"&&(t=t.replace(/[- ]/g,"").toLowerCase());var r=o.encodings[t],i=h(r);if(i==="String")n={originalEncoding:t},t=r;else{if(i!=="Object"||r.type==undefined){if(i==="Function")return r(n);throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}n=r,t=r.type}}},encodings:{internal:function(e){return{toEncoding:function(t){return new Buffer(c(t),e.originalEncoding)},fromEncoding:function(t){return l(t).toString(e.originalEncoding)}}},utf8:"internal",ucs2:"internal",binary:"internal",ascii:"internal",base64:"internal",singlebyte:function(e){if(!e.chars||e.chars.length!==128&&e.chars.length!==256)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");e.chars.length===128&&(e.chars=f+e.chars),e.charsBuf||(e.charsBuf=new Buffer(e.chars,"ucs2"));if(!e.revCharsBuf){e.revCharsBuf=new Buffer(65536);var t=o.defaultCharSingleByte.charCodeAt(0);for(var n=0;n<e.revCharsBuf.length;n++)e.revCharsBuf[n]=t;for(var n=0;n<e.chars.length;n++)e.revCharsBuf[e.chars.charCodeAt(n)]=n}return{toEncoding:function(t){t=c(t);var n=new Buffer(t.length),r=e.revCharsBuf;for(var i=0;i<t.length;i++)n[i]=r[t.charCodeAt(i)];return n},fromEncoding:function(t){t=l(t);var n=e.charsBuf,r=new Buffer(t.length*2),i=0,s=0;for(var o=0,u=t.length;o<u;o++)i=t[o]*2,s=o*2,r[s]=n[i],r[s+1]=n[i+1];return r.toString("ucs2")}}},table:function(e){var t=e.table,n,r=e.revCharsTable;if(!t)throw new Error("Encoding '"+e.type+"' has incorect 'table' option");if(!r){r=e.revCharsTable={};for(n in t)r[t[n]]=parseInt(n)}return{toEncoding:function(e){e=c(e);var t=e.length,n=t;for(var i=0;i<t;i++)e.charCodeAt(i)>>7&&n++;var s=new Buffer(n),u,a,f=r[o.defaultCharUnicode.charCodeAt(0)];for(var i=0,l=0;i<t;i++)a=e.charCodeAt(i),a>>7?(u=r[a]||f,s[l++]=u>>8,s[l++]=u&255):s[l++]=a;return s},fromEncoding:function(e){e=l(e);var n=e.length,r=0;for(var i=0;i<n;i++)r++,e[i]&128&&i++;var s=new Buffer(r*2),u,a,f=o.defaultCharUnicode.charCodeAt(0);for(var i=0,c=0;i<n;i++,c+=2)a=e[i],a&128?(a=(a<<8)+e[++i],u=t[a]||f):u=a,s[c]=u&255,s[c+1]=u>>8;return s.toString("ucs2")}}}}};o.encode=o.toEncoding,o.decode=o.fromEncoding;var u=r+"/encodings/",a=e("fs");a.readdirSync(u).forEach(function(t){if(a.statSync(u+t).isDirectory())return;var n=e(u+t);for(var r in n)o.encodings[r]=n[r]});var f="\0\b	\n\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",l=function(e){return e=e||new Buffer(0),e instanceof Buffer?e:new Buffer(e.toString(),"utf8")},c=function(e){return e=e||"",e instanceof String?e:e.toString(e instanceof Buffer?"utf8":undefined)},h=function(e){return Object.prototype.toString.call(e).slice(8,-1)}}),require.define("/src/patchboard_api.coffee",function(e,t,n,r,i,s){(function(){t.exports={map:{patchboard:{paths:["/"]}},directory:{patchboard:"/"},"interface":{patchboard:{actions:{documentation:{method:"GET"},service_description:{method:"GET",accept:"application/json"}}}},schema:{id:"patchboard",properties:{resource:{id:"#resource",type:"object",properties:{url:{type:"string",format:"uri",readonly:!0}}}}}}}).call(this)}),require.alias("/src/client","/node_modules/patchboard");